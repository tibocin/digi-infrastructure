# -----------------------------------------------------------------------------
# File: config/env.example
# Purpose: Environment variables template for digi-infrastructure
# Related: docker-compose.yml
# Tags: environment, configuration, infrastructure
# -----------------------------------------------------------------------------

# ================ Infrastructure Configuration ================

# PostgreSQL Configuration
POSTGRES_USER=digi
POSTGRES_PASSWORD=change_me_to_secure_password
POSTGRES_DB=digi
POSTGRES_MULTIPLE_DATABASES=digi_core,lernmi,beep_boop,pcs

# PCS Database Password (used by init script)
PCS_DB_PASSWORD=pcs_pass

# Neo4j Configuration
NEO4J_PASSWORD=digi_secure_123

# ================ Multi-App Database Configuration ================

# App-specific database connections (optional - for direct app connections)
DIGI_CORE_DB_URL=postgresql://digi_core_user:digi_core_pass@postgres:5432/digi_core
LERNMI_DB_URL=postgresql://lernmi_user:lernmi_pass@postgres:5432/lernmi
BEEP_BOOP_DB_URL=postgresql://beep_boop_user:beep_boop_pass@postgres:5432/beep_boop
PCS_DB_URL=postgresql://pcs_user:pcs_pass@postgres:5432/pcs

# Neo4j database names for different apps (Neo4j 4.4+)
NEO4J_DATABASE_DIGI_CORE=digi_core
NEO4J_DATABASE_LERNMI=lernmi
NEO4J_DATABASE_BEEP_BOOP=beep_boop
NEO4J_DATABASE_PCS=pcs

# ChromaDB collection names for different apps
CHROMA_COLLECTION_DIGI_CORE=digi_core_knowledge
CHROMA_COLLECTION_LERNMI=lernmi_knowledge
CHROMA_COLLECTION_BEEP_BOOP=beep_boop_knowledge
CHROMA_COLLECTION_PCS=pcs_knowledge

# Redis database numbers for different apps (0-15)
REDIS_DB_DIGI_CORE=0
REDIS_DB_LERNMI=1
REDIS_DB_BEEP_BOOP=2
REDIS_DB_PCS=3

# ================ Monitoring Configuration ================

# Grafana Configuration
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=change_me_to_secure_password

# Prometheus Configuration
PROMETHEUS_RETENTION_TIME=200h

# ================ Backup Configuration ================

# AWS S3 Backup Configuration
AWS_REGION=us-east-2
AWS_ACCESS_KEY_ID=your_aws_access_key_id
AWS_SECRET_ACCESS_KEY=your_aws_secret_access_key
RESTIC_REPOSITORY=s3:https://s3.us-east-2.amazonaws.com/digi-backup
RESTIC_PASSWORD=your_secure_restic_password

# Backup Schedule (cron format)
BACKUP_SCHEDULE=0 3 * * *  # Daily at 3 AM

# ================ Optional Configuration ================

# ChromaDB PostgreSQL Backend (optional)
# Uncomment to use PostgreSQL for ChromaDB metadata instead of DuckDB
# CHROMA_DATASTORE=postgres

# Development overrides
# Uncomment for development environment
# POSTGRES_MULTIPLE_DATABASES=digi_core,lernmi,beep_boop,test

# ================ Security Configuration ================

# Network Configuration
DOCKER_NETWORK_NAME=digi-net

# SSL/TLS Configuration (for production)
# SSL_CERT_PATH=/path/to/cert.pem
# SSL_KEY_PATH=/path/to/key.pem

# ================ Performance Configuration ================

# PostgreSQL Performance
POSTGRES_SHARED_BUFFERS=256MB
POSTGRES_EFFECTIVE_CACHE_SIZE=1GB
POSTGRES_WORK_MEM=4MB

# Neo4j Performance
NEO4J_dbms_memory_heap_initial__size=512m
NEO4J_dbms_memory_heap_max__size=1G

# Redis Performance
REDIS_MAXMEMORY=256mb
REDIS_MAXMEMORY_POLICY=allkeys-lru


